{"version":3,"sources":["project.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"project.js","sourcesContent":["'use strict';\n\n/*(function($) {\n  $(() => {\n    $(document).foundation();\n\n    const App = {\n\n      data: {\n        formSuccess: '.form-success',\n        formError: '.form-error',\n        formContent: '.form-content',\n        formContentText: '.form-content__text',\n        hide: 'hide',\n        overlay: 'overlay',\n      },\n\n      _initApp() {\n        this._modal();\n        this._form();\n        this._startSliderMain();\n        this._startSliderServices();\n        this._startLightGallery();\n        this._sticky();\n      },\n\n      _reflowApp() {\n        this._modal();\n        this._form();\n      },\n\n      // Modals\n      _modal() {\n        const $modal = $('#modalAjax');\n        const $content = $('#modalContentAjax');\n\n        $('[data-modal]').off('click').on('click', (e) => {\n          e.preventDefault();\n\n          $.ajax({\n            url: $(e.currentTarget).data('modal')\n          })\n            .done((resp) => {\n              $content.empty().html(resp).foundation();\n              App._reflowApp();\n              $modal.foundation('open');\n            });\n        });\n      },\n\n      // Form Validation\n      _form() {\n        const $form = $('[data-abide]');\n\n        $form.on('submit.zf.abide', (e) => {\n          e.preventDefault();\n        }).on('formvalid.zf.abide', (e) => {\n          const $target = $(e.currentTarget);\n\n          // Включаем анимацию и перекрытие\n          App.addLoading($target);\n          App.addOverlay($target);\n          // Скрываем блок с ошибкой формы\n          App.hideBlock($target.find(App.data.formError));\n\n          // Метод бекенда для отправки данных\n          App.appMethod($target.data('backend'), $target);\n        });\n      },\n\n      // Запуск backend-метода\n      appMethod(method, event) {\n        if (method in App) {\n          event ? App[method](event) : App[method]();\n        } else {\n          method ? console.log(\"Backend action: \", method) : console.log(\"Not method\");\n        }\n      },\n\n      // Function for created loading\n      addLoading: function (obj, size) {\n        var spinner = 'spinner';\n        size ? spinner += ` spinner--${size}` : spinner;\n        if (obj.hasClass('btn')) {\n          obj.addClass('btn--loading');\n          obj.wrapInner('<span class=\"btn__text\"></span>');\n          obj.prepend(`<div class=\"${spinner}\"><div class=\"spinner__circle\"></div></div>`);\n        } else {\n          obj.wrap('<div class=\"spinner-mask spinner-mask--start\"></div>').parent().prepend(`<div class=\"${spinner}\"><div class=\"spinner__circle\"></div></div>`);\n        }\n      },\n      // Function for deleted loading\n      removeLoading: function (obj) {\n        if (obj.hasClass('btn')) {\n          obj.removeClass('btn--loading').find('btn__text').unwrap();\n        } else {\n          obj.parent().find('.spinner').remove();\n          obj.unwrap();\n        }\n      },\n      // Add to Overlay\n      addOverlay: function (obj) {\n        obj.addClass(App.data.overlay);\n      },\n      // Remove to Overlay\n      removeOverlay: function (obj) {\n        obj.removeClass(App.data.overlay);\n      },\n      // Hide block\n      hideBlock: function (obj) {\n        obj.addClass(App.data.hide);\n      },\n      // Show block\n      showBlock: function (obj) {\n        obj.removeClass(App.data.hide);\n      },\n      // Show Error Form\n      setErrorForm: function (obj, message) {\n        var formError = obj.find(App.data.formError);\n        formError.find(App.data.formContentText).empty().html(message);\n        App.showBlock(formError);\n      },\n      // Slider Main to header in index-page\n      _startSliderMain: function () {\n        if ( $('.js-slider-main').length ) {\n          tns({\n            container: '.js-slider-main',\n            items: 1,\n            slideBy: 'page',\n            autoplay: false,\n            autoplayButtonOutput: false,\n            nav: true,\n            controls: false,\n            navPosition: 'bottom',\n            //navContainer: '.js-slider-main .page-header__slider-nav',\n            //controlsContainer: \".js-slider-banner > .photo-list__control\"\n          });\n        }\n      },\n      // Slider Services to Main\n      _startSliderServices: function () {\n        if ( $('.js-slider-services').length ) {\n          tns({\n            \"container\": \".js-slider-services\",\n            \"items\": 2,\n            controlsContainer: \".slider-controls-services\",\n            \"autoplay\": false,\n            \"swipeAngle\": false,\n            \"speed\": 400,\n            \"loop\" : true,\n            autoplayButtonOutput: false,\n            nav: false,\n            controls: false,\n            center: true,\n            responsive: {\n              1000: {\n                controls: true\n              },\n              1024: {\n                items: 3,\n                center: false,\n              },\n              1400: {\n                items: 4\n              }\n            }\n          });\n        }\n      },\n      // Gallery\n      _startLightGallery: function () {\n        $('.js-gallery').lightGallery({\n          selector: '.js-gallery-item',\n          download: false,\n          fullScreen: false,\n          autoplay: false,\n          autoplayControls: false,\n          share: false\n        });\n      },\n      // Sticky menu in header\n      _sticky: function () {\n        var _this = this;\n        var sticky = $('.js-sticky');\n        var sticky_margin_top_init = 100;\n        var sticky_margin_top_active = 110;\n        // For only Table & Desktop\n        if (document.documentElement.clientWidth > 1024) {\n          var win = $(window);\n\n          win.scroll(function() {\n            var scrollTop = +win.scrollTop();\n            if (scrollTop > sticky_margin_top_init) {\n              sticky.addClass('is-init');\n            } else {\n              sticky.removeClass('is-init');\n            }\n            if (scrollTop > sticky_margin_top_active) {\n              sticky.addClass('is-active');\n            } else {\n              sticky.removeClass('is-active');\n            }\n          });\n        }\n\n        sticky.off('resizeme.zf.trigger').on('resizeme.zf.trigger', function(e, el) {\n          _this._sticky();\n        });\n      }\n    };\n\n    App._initApp();\n    window.App = App;\n  });\n}(jQuery));\n\n/* Параметры jslint */\n// Модуль /spa/\n// Обеспечивает функциональность выплывающего чата\n//\n/*var spa = (function ( $ ) {\n// Переменные в области видимости модуля\nvar\n// Задать константы\nconfigMap = {\nextended_height : 434,\nextended_title : 'Click to retract',\nretracted_height : 16,\nretracted_title : 'Click to extend',\ntemplate_html : '<div class=\"spa-slider\"><\\/div>'\n},\n// Объявить все прочие переменные в области видимости модуля\n$chatSlider,\ntoggleSlider, onClickSlider, initModule;\n// Метод DOM /toggleSlider/\n// изменяет высоту окна чата\ntoggleSlider = function () {\nvar\nslider_height = $chatSlider.height();\n// раскрыть окно чата, если оно свернуто ча та. Он сравнивает теку-щую высоту окна с мини-\nif ( slider_height === configMap.retracted_height ) {\n$chatSlider\n.animate({ height : configMap.extended_height })\n.attr( 'title', configMap.extended_title );\nreturn true;\n}\n// свернуть окно чата, если оно раскрыто Этот\nelse if ( slider_height === configMap.extended_height ) {\n$chatSlider\n.animate({ height : configMap.retracted_height })\n.attr( 'title', configMap.retracted_title );\nreturn true;\n}\n// ничего не делать, если окно чата в процессе перехода\nreturn false;\n}\n// Обработчик события /onClickSlider/ По ме ща ем все методы обработки\n// получает событие щелчка и вызывает toggleSlider\nonClickSlider = function ( event ) {\ntoggleSlider();\nreturn false;\n};\n// Открытый метод /initModule/\n// устанавливает начальное состояние и предоставляет функциональность\n//\ninitModule = function ( $container ) {\n// отрисовать HTML\n$container.html( configMap.template_html );\n$chatSlider = $container.find( '.spa-slider' );\n// инициализировать высоту и описание окна чата\n// привязать обработчик к событию щелчка мышью\n$chatSlider\n.attr( 'title', configMap.retracted_title )\n.click( onClickSlider );\nreturn true;\n};\nreturn { initModule : initModule };\n}( jQuery ));*/\n// запустить spa, когда модель DOM будет готова\n//Запускаем SPA только после того, как"]}